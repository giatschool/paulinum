"use strict";angular.module("paulinumApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","firebase","firebase.utils","leaflet-directive"]),angular.module("paulinumApp").controller("MainCtrl",["$scope","fbutil",function(a,b){function c(a){console.log(a.properties.value);var b;return b=0==a.properties.value?"green":"red",{fillColor:b,weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}a.parkinglots={type:"FeatureCollection",features:[{type:"Feature",id:0,properties:{name:"Parkplatz 1",value:0},geometry:{type:"Polygon",coordinates:[[[7.6380595564842215,51.96735345776896],[7.638086378574371,51.96731049179144],[7.638263404369353,51.967351805232106],[7.638225853443145,51.96738320342154],[7.6380595564842215,51.96735345776896]]]}},{type:"Feature",id:1,properties:{name:"Parkplatz 2",value:0},geometry:{type:"Polygon",coordinates:[[[7.638303637504577,51.967399728775575],[7.638319730758668,51.96736006791568],[7.638488709926605,51.96739477117001],[7.6384699344635,51.967427821863424],[7.638303637504577,51.967399728775575]]]}}]};var d=b.syncArray("lots",{limit:10});d.$watch(function(b){var e=d.$getRecord(b.key);"-JZmpJeUQ1oA4IM_YDe4"==e.$id?a.parkinglots.features[0].properties.value=e.value:"-JZmpMURo799IoF6d1Di"==e.$id&&(a.parkinglots.features[1].properties.value=e.value),a.geojson={data:a.parkinglots,style:c}}),angular.extend(a,{center:{lat:51.966845,lng:7.638117,zoom:18},defaults:{scrollWheelZoom:!1}})}]),angular.module("firebase.config",[]).constant("FBURL","https://paulinum.firebaseio.com"),angular.module("firebase.utils",["firebase","firebase.config"]).factory("fbutil",["$window","FBURL","$firebase",function(a,b,c){function d(a){for(var b=0;b<a.length;b++)if(angular.isArray(a[b]))a[b]=d(a[b]);else if("string"!=typeof a[b])throw new Error("Argument "+b+" to firebaseRef is not a string: "+a[b]);return a.join("/")}function e(){var c=new a.Firebase(b),e=Array.prototype.slice.call(arguments);return e.length&&(c=c.child(d(e))),c}function f(a,b){var d=e(a);return b=angular.extend({},b),angular.forEach(["limit","startAt","endAt"],function(a){if(b.hasOwnProperty(a)){var c=b[a];d=d[a].apply(d,angular.isArray(c)?c:[c]),delete b[a]}}),c(d)}return{syncObject:function(){return f.apply(null,arguments).$asObject()},syncArray:function(){return f.apply(null,arguments).$asArray()},ref:e}}]),angular.module("paulinumApp").filter("reverse",function(){return function(a){return angular.isArray(a)?a.slice().reverse():[]}}),angular.module("paulinumApp").config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/chat",{templateUrl:"views/chat.html",controller:"ChatCtrl"}).when("/chat",{templateUrl:"views/chat.html",controller:"ChatCtrl"}).otherwise({redirectTo:"/"})}]);